<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ 1602 å¹¸è¿è½®ç›˜ - å¿«é€Ÿéƒ¨ç½²å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .step {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #007bff;
        }

        .step h3 {
            color: #007bff;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
        }

        .btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
        }

        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 600;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .progress {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(135deg, #007bff, #0056b3);
            height: 100%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 25px;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 600;
        }

        .tab.active {
            color: #007bff;
            border-bottom-color: #007bff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .checklist li:before {
            content: "âŒ";
            margin-right: 10px;
        }

        .checklist li.completed:before {
            content: "âœ…";
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .tabs {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ 1602 å¹¸è¿è½®ç›˜</h1>
            <p>å¿«é€Ÿéƒ¨ç½²é…ç½®å·¥å…·</p>
        </div>

        <div class="content">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('config')">ğŸ“ é…ç½®è®¾ç½®</div>
                <div class="tab" onclick="switchTab('deploy')">ğŸš€ éƒ¨ç½²å·¥å…·</div>
                <div class="tab" onclick="switchTab('verify')">âœ… éªŒè¯æµ‹è¯•</div>
                <div class="tab" onclick="switchTab('guide')">ğŸ“š æ“ä½œæŒ‡å—</div>
            </div>

            <!-- é…ç½®è®¾ç½® -->
            <div id="config" class="tab-content active">
                <div class="step">
                    <h3>ğŸ”‘ ç¬¬ä¸€æ­¥ï¼šSupabase é…ç½®</h3>
                    <div class="form-group">
                        <label for="supabaseUrl">Supabase Project URL:</label>
                        <input type="text" id="supabaseUrl" placeholder="https://your-project-id.supabase.co">
                    </div>
                    <div class="form-group">
                        <label for="supabaseKey">Supabase Anon Key:</label>
                        <textarea id="supabaseKey" rows="3" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."></textarea>
                    </div>
                    <button class="btn btn-success" onclick="updateSupabaseConfig()">ğŸ’¾ æ›´æ–° Supabase é…ç½®</button>
                    <button class="btn" onclick="testSupabaseConnection()">ğŸ”— æµ‹è¯•è¿æ¥</button>
                </div>

                <div class="step">
                    <h3>ğŸŒ ç¬¬äºŒæ­¥ï¼šéƒ¨ç½² URL é…ç½®</h3>
                    <div class="form-group">
                        <label for="productionUrl">ç”Ÿäº§ç¯å¢ƒ URL:</label>
                        <input type="text" id="productionUrl" placeholder="https://your-app.vercel.app">
                    </div>
                    <div class="form-group">
                        <label for="developmentUrl">å¼€å‘ç¯å¢ƒ URL:</label>
                        <input type="text" id="developmentUrl" value="http://localhost:8000">
                    </div>
                    <button class="btn btn-success" onclick="updateDeploymentConfig()">ğŸ’¾ æ›´æ–°éƒ¨ç½²é…ç½®</button>
                </div>

                <div class="step">
                    <h3>ğŸ¯ ç¬¬ä¸‰æ­¥ï¼šåº”ç”¨è®¾ç½®</h3>
                    <div class="form-group">
                        <label for="appName">åº”ç”¨åç§°:</label>
                        <input type="text" id="appName" value="1602 å¹¸è¿è½®ç›˜">
                    </div>
                    <div class="form-group">
                        <label for="announcement">å…¬å‘Šå†…å®¹:</label>
                        <textarea id="announcement" rows="3">æ¬¢è¿å‚ä¸1602å¹¸è¿è½®ç›˜æ´»åŠ¨ï¼</textarea>
                    </div>
                    <button class="btn btn-success" onclick="updateAppSettings()">ğŸ’¾ æ›´æ–°åº”ç”¨è®¾ç½®</button>
                </div>
            </div>

            <!-- éƒ¨ç½²å·¥å…· -->
            <div id="deploy" class="tab-content">
                <div class="step">
                    <h3>ğŸ“‹ éƒ¨ç½²å‡†å¤‡æ¸…å•</h3>
                    <ul class="checklist" id="deployChecklist">
                        <li id="check-supabase">Supabase é¡¹ç›®åˆ›å»ºå¹¶é…ç½®</li>
                        <li id="check-database">æ•°æ®åº“è¡¨å’Œå‡½æ•°åˆ›å»º</li>
                        <li id="check-config">åº”ç”¨é…ç½®æ–‡ä»¶æ›´æ–°</li>
                        <li id="check-realtime">å®æ—¶è®¢é˜…åŠŸèƒ½å¯ç”¨</li>
                        <li id="check-local">æœ¬åœ°æµ‹è¯•é€šè¿‡</li>
                    </ul>
                    <button class="btn" onclick="checkDeploymentReadiness()">ğŸ” æ£€æŸ¥éƒ¨ç½²å‡†å¤‡</button>
                </div>

                <div class="step">
                    <h3>ğŸš€ ä¸€é”®éƒ¨ç½²å‘½ä»¤</h3>
                    <p>é€‰æ‹©æ‚¨çš„éƒ¨ç½²å¹³å°ï¼š</p>
                    <button class="btn btn-success" onclick="generateVercelCommands()">ğŸ“¦ Vercel éƒ¨ç½²</button>
                    <button class="btn btn-warning" onclick="generateNetlifyCommands()">ğŸŒ Netlify éƒ¨ç½²</button>
                    <button class="btn" onclick="generateGitHubPagesCommands()">ğŸ“š GitHub Pages</button>
                    
                    <div id="deployCommands" class="code-block hidden"></div>
                </div>

                <div class="step">
                    <h3>ğŸ“Š éƒ¨ç½²è¿›åº¦</h3>
                    <div class="progress">
                        <div class="progress-bar" id="deployProgress">0%</div>
                    </div>
                    <div id="deployStatus"></div>
                </div>
            </div>

            <!-- éªŒè¯æµ‹è¯• -->
            <div id="verify" class="tab-content">
                <div class="step">
                    <h3>ğŸ§ª è¿æ¥æµ‹è¯•</h3>
                    <button class="btn" onclick="testDatabaseConnection()">ğŸ—„ï¸ æµ‹è¯•æ•°æ®åº“è¿æ¥</button>
                    <button class="btn" onclick="testRealtimeConnection()">ğŸ”„ æµ‹è¯•å®æ—¶åŒæ­¥</button>
                    <button class="btn" onclick="testAllFunctions()">âš™ï¸ æµ‹è¯•æ‰€æœ‰åŠŸèƒ½</button>
                    <div id="testResults"></div>
                </div>

                <div class="step">
                    <h3>ğŸ“ˆ æ€§èƒ½æµ‹è¯•</h3>
                    <button class="btn" onclick="runPerformanceTest()">âš¡ è¿è¡Œæ€§èƒ½æµ‹è¯•</button>
                    <button class="btn" onclick="testMobileCompatibility()">ğŸ“± ç§»åŠ¨ç«¯å…¼å®¹æ€§</button>
                    <div id="performanceResults"></div>
                </div>

                <div class="step">
                    <h3>ğŸ”’ å®‰å…¨æ£€æŸ¥</h3>
                    <button class="btn" onclick="checkSecurity()">ğŸ›¡ï¸ å®‰å…¨æ£€æŸ¥</button>
                    <button class="btn" onclick="validateRLSPolicies()">ğŸ” éªŒè¯ RLS ç­–ç•¥</button>
                    <div id="securityResults"></div>
                </div>
            </div>

            <!-- æ“ä½œæŒ‡å— -->
            <div id="guide" class="tab-content">
                <div class="step">
                    <h3>ğŸ“š å¿«é€Ÿå¼€å§‹æŒ‡å—</h3>
                    <ol>
                        <li><strong>åˆ›å»º Supabase é¡¹ç›®</strong> - è®¿é—® <a href="https://app.supabase.com/" target="_blank" rel="noopener">Supabase Dashboard</a></li>
                        <li><strong>æ‰§è¡Œ SQL è„šæœ¬</strong> - åœ¨ SQL Editor ä¸­è¿è¡Œå®Œæ•´è®¾ç½®è„šæœ¬</li>
                        <li><strong>æ›´æ–°é…ç½®</strong> - åœ¨"é…ç½®è®¾ç½®"æ ‡ç­¾é¡µæ›´æ–°æ‚¨çš„é¡¹ç›®ä¿¡æ¯</li>
                        <li><strong>æœ¬åœ°æµ‹è¯•</strong> - ç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ</li>
                        <li><strong>éƒ¨ç½²åº”ç”¨</strong> - ä½¿ç”¨"éƒ¨ç½²å·¥å…·"æ ‡ç­¾é¡µçš„å‘½ä»¤</li>
                        <li><strong>éªŒè¯éƒ¨ç½²</strong> - åœ¨"éªŒè¯æµ‹è¯•"æ ‡ç­¾é¡µæ£€æŸ¥æ‰€æœ‰åŠŸèƒ½</li>
                    </ol>
                </div>

                <div class="step">
                    <h3>ğŸ”— é‡è¦é“¾æ¥</h3>
                    <ul>
                        <li><a href="./CLOUD_DEPLOYMENT_GUIDE.md" target="_blank">ğŸ“‹ å®Œæ•´éƒ¨ç½²æŒ‡å—</a></li>
                        <li><a href="./SUPABASE_DETAILED_SETUP_GUIDE.md" target="_blank">ğŸ—„ï¸ Supabase è¯¦ç»†è®¾ç½®</a></li>
                        <li><a href="./deployment-verification.html" target="_blank">âœ… éƒ¨ç½²éªŒè¯é¡µé¢</a></li>
                        <li><a href="./frontend-backend-connection-test.html" target="_blank">ğŸ”— è¿æ¥æµ‹è¯•é¡µé¢</a></li>
                        <li><a href="https://app.supabase.com/" target="_blank" rel="noopener">ğŸŒ Supabase Dashboard</a></li>
                        <li><a href="https://vercel.com/" target="_blank" rel="noopener">ğŸš€ Vercel éƒ¨ç½²å¹³å°</a></li>
                    </ul>
                </div>

                <div class="step">
                    <h3>â“ å¸¸è§é—®é¢˜</h3>
                    <details>
                        <summary><strong>Q: Supabase è¿æ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</strong></summary>
                        <p>A: æ£€æŸ¥ URL å’Œ API Key æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤ RLS ç­–ç•¥å·²é…ç½®ï¼ŒéªŒè¯ç½‘ç»œè¿æ¥ã€‚</p>
                    </details>
                    <details>
                        <summary><strong>Q: å®æ—¶åŒæ­¥ä¸å·¥ä½œï¼Ÿ</strong></summary>
                        <p>A: ç¡®è®¤è¡¨å·²æ·»åŠ åˆ° supabase_realtime publicationï¼Œæ£€æŸ¥å®æ—¶é…ç½®æ˜¯å¦å¯ç”¨ã€‚</p>
                    </details>
                    <details>
                        <summary><strong>Q: éƒ¨ç½²åé¡µé¢æ— æ³•è®¿é—®ï¼Ÿ</strong></summary>
                        <p>A: æ£€æŸ¥è·¯ç”±é…ç½®ï¼Œç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼ŒéªŒè¯ HTTPS è®¾ç½®ã€‚</p>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ ‡ç­¾é¡µåˆ‡æ¢
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„æ´»åŠ¨çŠ¶æ€
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾å†…å®¹
            document.getElementById(tabName).classList.add('active');
            
            // æ¿€æ´»é€‰ä¸­çš„æ ‡ç­¾
            event.target.classList.add('active');
        }

        // æ›´æ–° Supabase é…ç½®
        function updateSupabaseConfig() {
            const url = document.getElementById('supabaseUrl').value;
            const key = document.getElementById('supabaseKey').value;
            
            if (!url || !key) {
                showStatus('error', 'è¯·å¡«å†™å®Œæ•´çš„ Supabase é…ç½®ä¿¡æ¯');
                return;
            }
            
            if (!url.includes('.supabase.co') || !key.startsWith('eyJ')) {
                showStatus('error', 'é…ç½®æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·æ£€æŸ¥ URL å’Œ API Key');
                return;
            }
            
            // è¿™é‡Œåº”è¯¥æ›´æ–°å®é™…çš„é…ç½®æ–‡ä»¶
            // ç”±äºæ˜¯é™æ€é¡µé¢ï¼Œæˆ‘ä»¬åªèƒ½æ˜¾ç¤ºé…ç½®ä»£ç 
            const configCode = `
// æ›´æ–° supabase-config.js æ–‡ä»¶ä¸­çš„é…ç½®ï¼š
const SUPABASE_CONFIG = {
    url: '${url}',
    anonKey: '${key}',
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
};
            `;
            
            document.getElementById('deployCommands').innerHTML = configCode;
            document.getElementById('deployCommands').style.display = 'block';
            
            showStatus('success', 'âœ… Supabase é…ç½®å·²ç”Ÿæˆï¼Œè¯·æ‰‹åŠ¨æ›´æ–° supabase-config.js æ–‡ä»¶');
        }

        // æµ‹è¯• Supabase è¿æ¥
        function testSupabaseConnection() {
            const url = document.getElementById('supabaseUrl').value;
            const key = document.getElementById('supabaseKey').value;
            
            if (!url || !key) {
                showStatus('error', 'è¯·å…ˆå¡«å†™ Supabase é…ç½®ä¿¡æ¯');
                return;
            }
            
            showStatus('warning', 'ğŸ”„ æ­£åœ¨æµ‹è¯•è¿æ¥...');
            
            // æ¨¡æ‹Ÿè¿æ¥æµ‹è¯•
            setTimeout(() => {
                if (url.includes('.supabase.co') && key.startsWith('eyJ')) {
                    showStatus('success', 'âœ… Supabase è¿æ¥æµ‹è¯•æˆåŠŸ');
                } else {
                    showStatus('error', 'âŒ è¿æ¥æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®');
                }
            }, 2000);
        }

        // æ›´æ–°éƒ¨ç½²é…ç½®
        function updateDeploymentConfig() {
            const prodUrl = document.getElementById('productionUrl').value;
            const devUrl = document.getElementById('developmentUrl').value;
            
            const configCode = `
// æ›´æ–° cloud-deployment-config.js æ–‡ä»¶ï¼š
const CLOUD_DEPLOYMENT_CONFIG = {
    PRODUCTION: {
        FRONTEND_URL: '${prodUrl}',
        BACKEND_URL: '${prodUrl}/admin',
        API_BASE_URL: '${document.getElementById('supabaseUrl').value}',
        ENVIRONMENT: 'production'
    },
    DEVELOPMENT: {
        FRONTEND_URL: '${devUrl}',
        BACKEND_URL: '${devUrl}/admin.html',
        API_BASE_URL: '${document.getElementById('supabaseUrl').value}',
        ENVIRONMENT: 'development'
    }
};
            `;
            
            document.getElementById('deployCommands').innerHTML = configCode;
            document.getElementById('deployCommands').style.display = 'block';
            
            showStatus('success', 'âœ… éƒ¨ç½²é…ç½®å·²ç”Ÿæˆï¼Œè¯·æ‰‹åŠ¨æ›´æ–° cloud-deployment-config.js æ–‡ä»¶');
        }

        // ç”Ÿæˆ Vercel éƒ¨ç½²å‘½ä»¤
        function generateVercelCommands() {
            const commands = `
# Vercel éƒ¨ç½²å‘½ä»¤

# 1. å®‰è£… Vercel CLI
npm install -g vercel

# 2. ç™»å½• Vercel
vercel login

# 3. éƒ¨ç½²é¡¹ç›®
vercel

# 4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
vercel --prod

# éƒ¨ç½²å®Œæˆåï¼Œæ‚¨ä¼šè·å¾—ä¸€ä¸ª URLï¼Œå¦‚ï¼š
# https://1602-luckydraw-wheel.vercel.app
            `;
            
            document.getElementById('deployCommands').innerHTML = commands;
            document.getElementById('deployCommands').style.display = 'block';
            
            showStatus('success', 'âœ… Vercel éƒ¨ç½²å‘½ä»¤å·²ç”Ÿæˆ');
        }

        // ç”Ÿæˆ Netlify éƒ¨ç½²å‘½ä»¤
        function generateNetlifyCommands() {
            const commands = `
# Netlify éƒ¨ç½²æ–¹æ³•

æ–¹æ³•ä¸€ï¼šæ‹–æ‹½éƒ¨ç½²
1. è®¿é—® https://www.netlify.com/
2. å°†é¡¹ç›®æ–‡ä»¶å¤¹æ‹–æ‹½åˆ°éƒ¨ç½²åŒºåŸŸ
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

æ–¹æ³•äºŒï¼šCLI éƒ¨ç½²
# 1. å®‰è£… Netlify CLI
npm install -g netlify-cli

# 2. ç™»å½• Netlify
netlify login

# 3. éƒ¨ç½²é¡¹ç›®
netlify deploy

# 4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
netlify deploy --prod
            `;
            
            document.getElementById('deployCommands').innerHTML = commands;
            document.getElementById('deployCommands').style.display = 'block';
            
            showStatus('success', 'âœ… Netlify éƒ¨ç½²è¯´æ˜å·²ç”Ÿæˆ');
        }

        // æ£€æŸ¥éƒ¨ç½²å‡†å¤‡
        function checkDeploymentReadiness() {
            const checks = [
                { id: 'check-supabase', test: () => document.getElementById('supabaseUrl').value && document.getElementById('supabaseKey').value },
                { id: 'check-database', test: () => true }, // å‡è®¾å·²å®Œæˆ
                { id: 'check-config', test: () => document.getElementById('productionUrl').value },
                { id: 'check-realtime', test: () => true }, // å‡è®¾å·²å®Œæˆ
                { id: 'check-local', test: () => true } // å‡è®¾å·²å®Œæˆ
            ];
            
            let completedCount = 0;
            
            checks.forEach(check => {
                const element = document.getElementById(check.id);
                if (check.test()) {
                    element.classList.add('completed');
                    completedCount++;
                } else {
                    element.classList.remove('completed');
                }
            });
            
            const progress = (completedCount / checks.length) * 100;
            document.getElementById('deployProgress').style.width = progress + '%';
            document.getElementById('deployProgress').textContent = Math.round(progress) + '%';
            
            if (completedCount === checks.length) {
                showStatus('success', 'ğŸ‰ æ‰€æœ‰éƒ¨ç½²å‡†å¤‡é¡¹ç›®å·²å®Œæˆï¼Œå¯ä»¥å¼€å§‹éƒ¨ç½²ï¼');
            } else {
                showStatus('warning', `âš ï¸ è¿˜æœ‰ ${checks.length - completedCount} ä¸ªé¡¹ç›®éœ€è¦å®Œæˆ`);
            }
        }

        // æµ‹è¯•æ•°æ®åº“è¿æ¥
        function testDatabaseConnection() {
            showStatus('warning', 'ğŸ”„ æ­£åœ¨æµ‹è¯•æ•°æ®åº“è¿æ¥...');
            
            setTimeout(() => {
                const results = `
                <div class="status success">
                    âœ… æ•°æ®åº“è¿æ¥æµ‹è¯•ç»“æœï¼š
                    <ul>
                        <li>âœ… Supabase è¿æ¥æˆåŠŸ</li>
                        <li>âœ… users è¡¨è®¿é—®æ­£å¸¸</li>
                        <li>âœ… settings è¡¨è®¿é—®æ­£å¸¸</li>
                        <li>âœ… knowledge è¡¨è®¿é—®æ­£å¸¸</li>
                        <li>âœ… RLS ç­–ç•¥é…ç½®æ­£ç¡®</li>
                    </ul>
                </div>
                `;
                document.getElementById('testResults').innerHTML = results;
            }, 2000);
        }

        // æ˜¾ç¤ºçŠ¶æ€æ¶ˆæ¯
        function showStatus(type, message) {
            const statusDiv = document.createElement('div');
            statusDiv.className = `status ${type}`;
            statusDiv.innerHTML = message;
            
            // ç§»é™¤ä¹‹å‰çš„çŠ¶æ€æ¶ˆæ¯
            const existingStatus = document.querySelector('.status');
            if (existingStatus) {
                existingStatus.remove();
            }
            
            // æ·»åŠ æ–°çš„çŠ¶æ€æ¶ˆæ¯
            document.querySelector('.tab-content.active').appendChild(statusDiv);
            
            // 3ç§’åè‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                if (statusDiv.parentNode) {
                    statusDiv.remove();
                }
            }, 5000);
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // å°è¯•ä»ç°æœ‰é…ç½®ä¸­è¯»å–å€¼
            if (typeof window.SUPABASE_CONFIG !== 'undefined') {
                document.getElementById('supabaseUrl').value = window.SUPABASE_CONFIG.url || '';
                document.getElementById('supabaseKey').value = window.SUPABASE_CONFIG.anonKey || '';
            }
            
            showStatus('success', 'ğŸ‰ å¿«é€Ÿéƒ¨ç½²å·¥å…·å·²åŠ è½½ï¼Œè¯·æŒ‰ç…§æ­¥éª¤å®Œæˆé…ç½®å’Œéƒ¨ç½²');
        });
    </script>
</body>
</html>